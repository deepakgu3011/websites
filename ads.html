<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VAST Pre Roll Demo</title>

<link href="https://vjs.zencdn.net/8.6.1/video-js.css" rel="stylesheet">

<style>
body{
  font-family: Arial;
  background:#111;
  color:#fff;
  text-align:center;
}
#playBtn{
  padding:12px 25px;
  font-size:16px;
  cursor:pointer;
  margin-bottom:15px;
}
.video-js{
  margin:auto;
}
</style>
</head>

<body>

<h2>VAST Ad Test</h2>

<button id="playBtn">â–¶ Play video</button>

<video
  id="videoPlayer"
  class="video-js vjs-default-skin"
  width="640"
  height="360"
  controls
  preload="auto"
  playsinline
  webkit-playsinline>

  <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
</video>

<!-- REQUIRED SCRIPTS (ORDER IMPORTANT) -->
<script src="https://imasdk.googleapis.com/js/sdkloader/ima3.js"></script>
<script src="https://vjs.zencdn.net/8.6.1/video.min.js"></script>
<script src="https://unpkg.com/videojs-contrib-ads@6/dist/videojs-contrib-ads.min.js"></script>
<script src="https://unpkg.com/videojs-ima@1/dist/videojs.ima.min.js"></script>

<script>
var player = videojs('videoPlayer');

player.ima({
  adTagUrl: "https://fantasticcommunity.com/dem/F.zMdDG/NivMZ/GTUH/YesmK9IuGZ/UBlokGPLTCYe2JNsTzYB2/MjD-gdtuNcj_Yz1lNGj/YMwGO/SWZzsoatWx1ypEdJDK0cxT",

  // IMPORTANT for wrapper based VAST
  maxRedirects: 10,

  debug: true
});

let adsInitialized = false;

document.getElementById("playBtn").addEventListener("click", function () {

  if (!adsInitialized) {
    player.ima.initializeAdDisplayContainer();
    player.ima.requestAds();
    adsInitialized = true;
  }

  player.play();
});
</script>

</body>
</html>
